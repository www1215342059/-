C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN .\build\Target 1\__\APP\Uart\Uart.o
COMPILER INVOKED BY: D:\keil5\C51\BIN\C51.exe .\..\APP\UART\UART.C PRINT(.\build\Target 1\__\APP\Uart\Uart.lst) OMF2 TAB
                    -S(4) CODE NOCOND SYMBOLS OPTIMIZE(8,SPEED) SMALL ROM(LARGE) INCDIR(D:\keil5\C51\INC\Atmel;.\..\APP;.\..;.\..\APP\ADC;.\.
                    -.\APP\Eeprom;.\..\APP\Fingerprint;.\..\APP\System;.\..\APP\Uart;.\..\APP\WIFI;.\..\APP\LCD;.\..\APP\SPI;.\..\APP\GUI;.\.
                    -.\APP\Time;.\..\APP\H;D:\keil5\C51\INC) DEFINE(__UVISION_VERSION=526) OBJECT(.\build\Target 1\__\APP\Uart\Uart.o)

line level    source

   1          #include "Uart.h"
   2          
   3          Uart xdata uart1,uart4;
   4          
   5          /**
   6            * @brief  串口结构初始化
   7            * @param  uart:初始化的串口结构体
   8              uartId:串口的标号
   9              
  10              * @retval NULL
  11            */
  12          void UartStructInit(Uart* uart,uchar uartId,ulong boad)
  13          {
  14   1          uart->_uartId = uartId;     //串口号选择
  15   1          uart->_uartSign = 0;            //串口成员初始化
  16   1          uart->_uartStart = 0;           //串口成员初始化
  17   1          uart->_readFlag = 0;            //串口成员初始化
  18   1          uart->_uartTime = 0;            //串口成员初始化
  19   1          uart->_baudRate = boad;     //串口波特率
  20   1          uart->UartRead = uartRead;                      //串口读函数
  21   1          uart->UartWriteString = uartWriteString;//串口写字符串
  22   1          uart->UartWriteChar = uartWriteChar;    //串口写字节
  23   1          uart->UartWriteBuffe = uartWriteBuffe;//串口写串口缓存
  24   1          uart->UartReadTime = uartReadTime;      //串口读时钟
  25   1          UartInit(uart);
  26   1      }
  27          /**
  28            * @brief  串口初始化函数
  29            * @param  uart:初始化的串口结构体              
  30              * @retval NULL
  31            */
  32          void UartInit(Uart* uart)
  33          {
  34   1          uint xdata BRT;
  35   1          BRT = (65536 -  SystmeRtc / uart->_baudRate / 4 );
  36   1          switch(uart->_uartId)
  37   1          {
  38   2              case 1:
  39   2                  SCON = 0x50;                //8位数据,可变波特率
  40   2                  AUXR |= 0x40;               //定时器时钟1T模式
  41   2                  AUXR &= 0xFE;               //串口1选择定时器1为波特率发生器
  42   2                  TMOD &= 0x0F;               //设置定时器模式
  43   2                  TL1 = BRT;                  //设置定时初始值
  44   2                  TH1 = BRT >> 8;         //设置定时初始值
  45   2                  ET1 = 0;                        //禁止定时器1中断
  46   2                  TR1 = 1;                        //定时器1开始计数
  47   2                  ES = 1;
  48   2                  break;
  49   2              case 2:
  50   2                  S2CON |= 0x10;          //8位数据,可变波特率
  51   2                  AUXR |= 0x04;               //定时器时钟1T模式
  52   2                  T2L = BRT;                  //设置定时初始值
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 2   

  53   2                  T2H = BRT >> 8;         //设置定时初始值
  54   2                  AUXR |= 0x10;               //定时器2开始计时
  55   2                  IE2 &= ~0x04;               //禁止T2中断
  56   2                  IE2 |= 0x01;                //开启串口2中断
  57   2                  break;
  58   2              case 3:
  59   2                  S3CON |= 0x50;          //8位数据,可变波特率
  60   2                  T3L = BRT;                  //设置定时初始值
  61   2                  T3H = BRT >> 8;         //设置定时初始值
  62   2                  T4T3M |= 0x0a;          //定时器时钟1T模式并开始计时
  63   2                  IE2 &= ~0x20;               //禁止T3中断
  64   2                  IE2 |= 0x08;                //开启串口3中断
  65   2                  break;
  66   2              case 4:
  67   2                  S4CON   |= 0x50;            //8位数据,可变波特率
  68   2                  T4L = BRT;                  //设置定时初始值
  69   2                  T4H = BRT >> 8;         //设置定时初始值
  70   2                  T4T3M |= 0xa0;          //定时器时钟1T模式并开始计时
  71   2                  IE2 &= ~0x40;               //禁止T4中断
  72   2                  IE2 |= 0x10;                //开启串口4中断
  73   2                  break;
  74   2          }
  75   1          EA = 1;
  76   1      }
  77          /**
  78            * @brief  串口接收函数
  79            * @param  uart:读取的串口结构体,读取的串口SBUF
  80              * @retval NULL
  81            */
  82          void uartRead(Uart* uart,uchar buff)//串口
  83          {
  84   1          uart->_uartStart = 1;                                                                       //开始接收
  85   1          uart->_uartTime = 0;                                                                        //清零计时
  86   1          uart->_uartRead[uart->_uartSign++] = buff;  //将SBUF写入缓存
  87   1      }
  88          /**
  89            * @brief  串口接收计时函数
  90            * @param  uart:读取的串口结构体
  91              * @retval NULL
  92            */
  93          void uartReadTime(Uart* uart)
  94          {
  95   1          if(uart->_uartStart)                        //开始接收
  96   1          {
  97   2              uart->_uartTime++;                      //接收计时
  98   2              if(uart->_uartTime > 300)           //超出时接收完毕
  99   2              {
 100   3                  uart->_readFlag = 1;                //接收结束并置位
 101   3                  uart->_uartTime = 0;
 102   3                  uart->_uartStart = 0;
 103   3              }
 104   2          }
 105   1      }
 106          
 107          void uartWriteChar(Uart* uart,uchar str)
 108          {
 109   1          TR0 = 0;
 110   1          switch(uart->_uartId)
 111   1          {
 112   2              case 1:
 113   2                  SBUF = str;
 114   2                  break;
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 3   

 115   2              case 2:
 116   2                  S2BUF = str;
 117   2                  break;
 118   2              case 3:
 119   2                  S3BUF = str;
 120   2                  break;
 121   2              case 4:
 122   2                  S4BUF = str;
 123   2                  break;
 124   2          }
 125   1          while(uart->busy);
 126   1          uart->busy = 1;
 127   1          TR0 = 1;
 128   1      }
 129          
 130          void uartWriteString(Uart* uart,uchar* string)reentrant
 131          {
 132   1          while(*string!='\0')
 133   1          {
 134   2              uartWriteChar(uart,*string);
 135   2              string++;
 136   2          }
 137   1      }
 138          
 139          void uartWriteBuffe(Uart* uartID,Uart* uart)reentrant
 140          {
 141   1          uchar i = 0;
 142   1          for(i=0;i<uart->_uartSign;i++)
 143   1          {
 144   2              uartWriteChar(uartID,uart->_uartRead[i]);
 145   2          }
 146   1      }
 147          
 148          void UartRead1() interrupt 4
 149          {
 150   1          TR0 = 0;
 151   1          ET0 = 0;
 152   1          if(TI)
 153   1          {
 154   2              TI =0;
 155   2              uart1.busy = 0;
 156   2          }
 157   1          if(RI)
 158   1          {
 159   2              RI = 0;
 160   2              uart1.UartRead(&uart1,SBUF);
 161   2          }
 162   1          ET0 = 1;
 163   1          TR0 = 1;
 164   1      }
 165          
 166          //void UartRead2() interrupt 8
 167          //{
 168          //  if(S2CON & 0x02)
 169          //  {
 170          //      S2CON &= ~0x02;
 171          //      uart2.busy = 0;
 172          //  }
 173          //  if(S2CON & 0x01)
 174          //  {
 175          //      S2CON &= ~0x01;
 176          //      uart2.UartRead(&uart2,S2BUF);
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 4   

 177          //  }
 178          //}
 179          
 180          //void UartRead3() interrupt 17
 181          //{
 182          //  if(S3CON & 0x02)
 183          //  {
 184          //      S3CON &= ~0x02;
 185          //      uart3.busy = 0;
 186          //  }
 187          //  if(S2CON & 0x01)
 188          //  {
 189          //      S2CON &= ~0x01;
 190          //      uart2.UartRead(&uart2,S3BUF);
 191          //  }
 192          //}
 193          
 194          void UartRead4() interrupt 18
 195          {
 196   1          if(S4CON & 0x02)
 197   1          {
 198   2              S4CON &= ~0x02;
 199   2              uart4.busy = 0;
 200   2          }
 201   1          if(S4CON & 0x01)
 202   1          {
 203   2              S4CON &= ~0x01;
 204   2              uart4.UartRead(&uart4,S4BUF);
 205   2          }
 206   1      }
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 5   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _UartStructInit (BEGIN)
                                           ; SOURCE LINE # 12
0000 8B00        R     MOV     uart,R3
0002 8A00        R     MOV     uart+01H,R2
0004 8900        R     MOV     uart+02H,R1
;---- Variable 'uartId' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 13
                                           ; SOURCE LINE # 14
0006 ED                MOV     A,R5
0007 120000      E     LCALL   ?C?CSTPTR
                                           ; SOURCE LINE # 15
000A AB00        R     MOV     R3,uart
000C AA00        R     MOV     R2,uart+01H
000E A900        R     MOV     R1,uart+02H
0010 900041            MOV     DPTR,#041H
0013 E4                CLR     A
0014 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 16
0017 900042            MOV     DPTR,#042H
001A E4                CLR     A
001B 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 17
001E 900043            MOV     DPTR,#043H
0021 E4                CLR     A
0022 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 18
0025 900044            MOV     DPTR,#044H
0028 E4                CLR     A
0029 F5F0              MOV     B,A
002B 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 19
002E AF00        R     MOV     R7,boad+03H
0030 AE00        R     MOV     R6,boad+02H
0032 AD00        R     MOV     R5,boad+01H
0034 AC00        R     MOV     R4,boad
0036 900047            MOV     DPTR,#047H
0039 120000      E     LCALL   ?C?LSTOPTR
                                           ; SOURCE LINE # 20
003C 7BFF              MOV     R3,#0FFH
003E 7A00        R     MOV     R2,#HIGH _uartRead
0040 7900        R     MOV     R1,#LOW _uartRead
0042 C003              PUSH    AR3
0044 C002              PUSH    AR2
0046 C001              PUSH    AR1
0048 AB00        R     MOV     R3,uart
004A AA00        R     MOV     R2,uart+01H
004C A900        R     MOV     R1,uart+02H
004E 900054            MOV     DPTR,#054H
0051 120000      E     LCALL   ?C?PSTOPTR
                                           ; SOURCE LINE # 21
0054 7BFF              MOV     R3,#0FFH
0056 7A00        R     MOV     R2,#HIGH _?uartWriteString
0058 7900        R     MOV     R1,#LOW _?uartWriteString
005A C003              PUSH    AR3
005C C002              PUSH    AR2
005E C001              PUSH    AR1
0060 AB00        R     MOV     R3,uart
0062 AA00        R     MOV     R2,uart+01H
0064 A900        R     MOV     R1,uart+02H
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 6   

0066 90004E            MOV     DPTR,#04EH
0069 120000      E     LCALL   ?C?PSTOPTR
                                           ; SOURCE LINE # 22
006C 7BFF              MOV     R3,#0FFH
006E 7A00        R     MOV     R2,#HIGH _uartWriteChar
0070 7900        R     MOV     R1,#LOW _uartWriteChar
0072 C003              PUSH    AR3
0074 C002              PUSH    AR2
0076 C001              PUSH    AR1
0078 AB00        R     MOV     R3,uart
007A AA00        R     MOV     R2,uart+01H
007C A900        R     MOV     R1,uart+02H
007E 90004B            MOV     DPTR,#04BH
0081 120000      E     LCALL   ?C?PSTOPTR
                                           ; SOURCE LINE # 23
0084 7BFF              MOV     R3,#0FFH
0086 7A00        R     MOV     R2,#HIGH _?uartWriteBuffe
0088 7900        R     MOV     R1,#LOW _?uartWriteBuffe
008A C003              PUSH    AR3
008C C002              PUSH    AR2
008E C001              PUSH    AR1
0090 AB00        R     MOV     R3,uart
0092 AA00        R     MOV     R2,uart+01H
0094 A900        R     MOV     R1,uart+02H
0096 900051            MOV     DPTR,#051H
0099 120000      E     LCALL   ?C?PSTOPTR
                                           ; SOURCE LINE # 24
009C 7BFF              MOV     R3,#0FFH
009E 7A00        R     MOV     R2,#HIGH _uartReadTime
00A0 7900        R     MOV     R1,#LOW _uartReadTime
00A2 C003              PUSH    AR3
00A4 C002              PUSH    AR2
00A6 C001              PUSH    AR1
00A8 AB00        R     MOV     R3,uart
00AA AA00        R     MOV     R2,uart+01H
00AC A900        R     MOV     R1,uart+02H
00AE 900057            MOV     DPTR,#057H
00B1 120000      E     LCALL   ?C?PSTOPTR
                                           ; SOURCE LINE # 25
00B4 AB00        R     MOV     R3,uart
00B6 AA00        R     MOV     R2,uart+01H
00B8 A900        R     MOV     R1,uart+02H
00BA 020000      R     LJMP    _UartInit
             ; FUNCTION _UartStructInit (END)

             ; FUNCTION _UartInit (BEGIN)
                                           ; SOURCE LINE # 32
0000 8B00        R     MOV     uart,R3
0002 8A00        R     MOV     uart+01H,R2
0004 8900        R     MOV     uart+02H,R1
                                           ; SOURCE LINE # 33
                                           ; SOURCE LINE # 35
0006 900047            MOV     DPTR,#047H
0009 120000      E     LCALL   ?C?LLDOPTR0
000C 7F00              MOV     R7,#00H
000E 7E40              MOV     R6,#040H
0010 7DFA              MOV     R5,#0FAH
0012 7C01              MOV     R4,#01H
0014 120000      E     LCALL   ?C?ULDIV
0017 E4                CLR     A
0018 7B04              MOV     R3,#04H
001A FA                MOV     R2,A
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 7   

001B F9                MOV     R1,A
001C F8                MOV     R0,A
001D 120000      E     LCALL   ?C?ULDIV
0020 C3                CLR     C
0021 E4                CLR     A
0022 9F                SUBB    A,R7
0023 FF                MOV     R7,A
0024 E4                CLR     A
0025 9E                SUBB    A,R6
0026 900000      R     MOV     DPTR,#BRT
0029 F0                MOVX    @DPTR,A
002A A3                INC     DPTR
002B EF                MOV     A,R7
002C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 36
002D AB00        R     MOV     R3,uart
002F AA00        R     MOV     R2,uart+01H
0031 A900        R     MOV     R1,uart+02H
0033 120000      E     LCALL   ?C?CLDPTR
0036 24FE              ADD     A,#0FEH
0038 602A              JZ      ?C0004
003A 14                DEC     A
003B 6044              JZ      ?C0005
003D 14                DEC     A
003E 605B              JZ      ?C0006
0040 2403              ADD     A,#03H
0042 706F              JNZ     ?C0002
                                           ; SOURCE LINE # 37
                                           ; SOURCE LINE # 38
0044         ?C0003:
                                           ; SOURCE LINE # 39
0044 759850            MOV     SCON,#050H
                                           ; SOURCE LINE # 40
0047 438E40            ORL     AUXR,#040H
                                           ; SOURCE LINE # 41
004A 538EFE            ANL     AUXR,#0FEH
                                           ; SOURCE LINE # 42
004D 53890F            ANL     TMOD,#0FH
                                           ; SOURCE LINE # 43
0050 900000      R     MOV     DPTR,#BRT
0053 E0                MOVX    A,@DPTR
0054 FE                MOV     R6,A
0055 A3                INC     DPTR
0056 E0                MOVX    A,@DPTR
0057 F58B              MOV     TL1,A
                                           ; SOURCE LINE # 44
0059 EE                MOV     A,R6
005A F58D              MOV     TH1,A
                                           ; SOURCE LINE # 45
005C C2AB              CLR     ET1
                                           ; SOURCE LINE # 46
005E D28E              SETB    TR1
                                           ; SOURCE LINE # 47
0060 D2AC              SETB    ES
                                           ; SOURCE LINE # 48
0062 804F              SJMP    ?C0002
                                           ; SOURCE LINE # 49
0064         ?C0004:
                                           ; SOURCE LINE # 50
0064 439A10            ORL     S2CON,#010H
                                           ; SOURCE LINE # 51
0067 438E04            ORL     AUXR,#04H
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 8   

                                           ; SOURCE LINE # 52
006A 900000      R     MOV     DPTR,#BRT
006D E0                MOVX    A,@DPTR
006E FE                MOV     R6,A
006F A3                INC     DPTR
0070 E0                MOVX    A,@DPTR
0071 F5D7              MOV     T2L,A
                                           ; SOURCE LINE # 53
0073 EE                MOV     A,R6
0074 F5D6              MOV     T2H,A
                                           ; SOURCE LINE # 54
0076 438E10            ORL     AUXR,#010H
                                           ; SOURCE LINE # 55
0079 53AFFB            ANL     IE2,#0FBH
                                           ; SOURCE LINE # 56
007C 43AF01            ORL     IE2,#01H
                                           ; SOURCE LINE # 57
007F 8032              SJMP    ?C0002
                                           ; SOURCE LINE # 58
0081         ?C0005:
                                           ; SOURCE LINE # 59
0081 43AC50            ORL     S3CON,#050H
                                           ; SOURCE LINE # 60
0084 900000      R     MOV     DPTR,#BRT
0087 E0                MOVX    A,@DPTR
0088 FE                MOV     R6,A
0089 A3                INC     DPTR
008A E0                MOVX    A,@DPTR
008B F5D5              MOV     T3L,A
                                           ; SOURCE LINE # 61
008D EE                MOV     A,R6
008E F5D4              MOV     T3H,A
                                           ; SOURCE LINE # 62
0090 43D10A            ORL     T4T3M,#0AH
                                           ; SOURCE LINE # 63
0093 53AFDF            ANL     IE2,#0DFH
                                           ; SOURCE LINE # 64
0096 43AF08            ORL     IE2,#08H
                                           ; SOURCE LINE # 65
0099 8018              SJMP    ?C0002
                                           ; SOURCE LINE # 66
009B         ?C0006:
                                           ; SOURCE LINE # 67
009B 438450            ORL     S4CON,#050H
                                           ; SOURCE LINE # 68
009E 900000      R     MOV     DPTR,#BRT
00A1 E0                MOVX    A,@DPTR
00A2 FE                MOV     R6,A
00A3 A3                INC     DPTR
00A4 E0                MOVX    A,@DPTR
00A5 F5D3              MOV     T4L,A
                                           ; SOURCE LINE # 69
00A7 EE                MOV     A,R6
00A8 F5D2              MOV     T4H,A
                                           ; SOURCE LINE # 70
00AA 43D1A0            ORL     T4T3M,#0A0H
                                           ; SOURCE LINE # 71
00AD 53AFBF            ANL     IE2,#0BFH
                                           ; SOURCE LINE # 72
00B0 43AF10            ORL     IE2,#010H
                                           ; SOURCE LINE # 73
                                           ; SOURCE LINE # 74
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 9   

00B3         ?C0002:
                                           ; SOURCE LINE # 75
00B3 D2AF              SETB    EA
                                           ; SOURCE LINE # 76
00B5 22                RET     
             ; FUNCTION _UartInit (END)

             ; FUNCTION _uartRead (BEGIN)
                                           ; SOURCE LINE # 82
;---- Variable 'uart' assigned to Register 'R1/R2/R3' ----
;---- Variable 'buff' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 83
                                           ; SOURCE LINE # 84
0000 900042            MOV     DPTR,#042H
0003 7401              MOV     A,#01H
0005 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 85
0008 900044            MOV     DPTR,#044H
000B E4                CLR     A
000C F5F0              MOV     B,A
000E 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 86
0011 900041            MOV     DPTR,#041H
0014 7401              MOV     A,#01H
0016 120000      E     LCALL   ?C?CLDIOPTR
0019 FF                MOV     R7,A
001A 7E00              MOV     R6,#00H
001C E9                MOV     A,R1
001D 2411              ADD     A,#011H
001F F9                MOV     R1,A
0020 E4                CLR     A
0021 3A                ADDC    A,R2
0022 FA                MOV     R2,A
0023 E9                MOV     A,R1
0024 2F                ADD     A,R7
0025 F9                MOV     R1,A
0026 EE                MOV     A,R6
0027 3A                ADDC    A,R2
0028 FA                MOV     R2,A
0029 ED                MOV     A,R5
002A 020000      E     LJMP    ?C?CSTPTR
             ; FUNCTION _uartRead (END)

             ; FUNCTION _uartReadTime (BEGIN)
                                           ; SOURCE LINE # 93
;---- Variable 'uart' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 94
                                           ; SOURCE LINE # 95
0000 900042            MOV     DPTR,#042H
0003 120000      E     LCALL   ?C?CLDOPTR
0006 6031              JZ      ?C0011
                                           ; SOURCE LINE # 96
                                           ; SOURCE LINE # 97
0008 900044            MOV     DPTR,#044H
000B E4                CLR     A
000C 75F001            MOV     B,#01H
000F 120000      E     LCALL   ?C?IILDOPTR
                                           ; SOURCE LINE # 98
0012 900044            MOV     DPTR,#044H
0015 120000      E     LCALL   ?C?ILDOPTR
0018 D3                SETB    C
0019 942C              SUBB    A,#02CH
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 10  

001B E5F0              MOV     A,B
001D 9401              SUBB    A,#01H
001F 4018              JC      ?C0011
                                           ; SOURCE LINE # 99
                                           ; SOURCE LINE # 100
0021 900043            MOV     DPTR,#043H
0024 7401              MOV     A,#01H
0026 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 101
0029 900044            MOV     DPTR,#044H
002C E4                CLR     A
002D F5F0              MOV     B,A
002F 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 102
0032 900042            MOV     DPTR,#042H
0035 E4                CLR     A
0036 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 103
                                           ; SOURCE LINE # 104
                                           ; SOURCE LINE # 105
0039         ?C0011:
0039 22                RET     
             ; FUNCTION _uartReadTime (END)

             ; FUNCTION _uartWriteChar (BEGIN)
                                           ; SOURCE LINE # 107
;---- Variable 'str' assigned to Register 'R5' ----
;---- Variable 'uart' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 108
                                           ; SOURCE LINE # 109
0000 C28C              CLR     TR0
                                           ; SOURCE LINE # 110
0002 120000      E     LCALL   ?C?CLDPTR
0005 24FE              ADD     A,#0FEH
0007 600E              JZ      ?C0014
0009 14                DEC     A
000A 600F              JZ      ?C0015
000C 14                DEC     A
000D 6010              JZ      ?C0016
000F 2403              ADD     A,#03H
0011 700E              JNZ     ?C0017
                                           ; SOURCE LINE # 111
                                           ; SOURCE LINE # 112
0013         ?C0013:
                                           ; SOURCE LINE # 113
0013 8D99              MOV     SBUF,R5
                                           ; SOURCE LINE # 114
0015 800A              SJMP    ?C0017
                                           ; SOURCE LINE # 115
0017         ?C0014:
                                           ; SOURCE LINE # 116
0017 8D9B              MOV     S2BUF,R5
                                           ; SOURCE LINE # 117
0019 8006              SJMP    ?C0017
                                           ; SOURCE LINE # 118
001B         ?C0015:
                                           ; SOURCE LINE # 119
001B 8DAD              MOV     S3BUF,R5
                                           ; SOURCE LINE # 120
001D 8002              SJMP    ?C0017
                                           ; SOURCE LINE # 121
001F         ?C0016:
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 11  

                                           ; SOURCE LINE # 122
001F 8D85              MOV     S4BUF,R5
                                           ; SOURCE LINE # 123
                                           ; SOURCE LINE # 124
0021         ?C0017:
                                           ; SOURCE LINE # 125
0021 900046            MOV     DPTR,#046H
0024 120000      E     LCALL   ?C?CLDOPTR
0027 70F8              JNZ     ?C0017
                                           ; SOURCE LINE # 126
0029 900046            MOV     DPTR,#046H
002C 04                INC     A
002D 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 127
0030 D28C              SETB    TR0
                                           ; SOURCE LINE # 128
0032 22                RET     
             ; FUNCTION _uartWriteChar (END)

             ; FUNCTION _?uartWriteString (BEGIN)
                                           ; SOURCE LINE # 130
0000 1500        E     DEC     ?C_IBP
0002 1500        E     DEC     ?C_IBP
0004 1500        E     DEC     ?C_IBP
0006 A800        E     MOV     R0,?C_IBP
0008 A603              MOV     @R0,AR3
000A 08                INC     R0
000B A602              MOV     @R0,AR2
000D 08                INC     R0
000E A601              MOV     @R0,AR1
0010         ?C0020:
                                           ; SOURCE LINE # 132
0010 E500        E     MOV     A,?C_IBP
0012 2403              ADD     A,#03H
0014 F8                MOV     R0,A
0015 8603              MOV     AR3,@R0
0017 08                INC     R0
0018 E6                MOV     A,@R0
0019 FA                MOV     R2,A
001A 08                INC     R0
001B E6                MOV     A,@R0
001C F9                MOV     R1,A
001D 120000      E     LCALL   ?C?CLDPTR
0020 FD                MOV     R5,A
0021 601E              JZ      ?C0022
                                           ; SOURCE LINE # 133
                                           ; SOURCE LINE # 134
0023 A800        E     MOV     R0,?C_IBP
0025 8603              MOV     AR3,@R0
0027 08                INC     R0
0028 E6                MOV     A,@R0
0029 FA                MOV     R2,A
002A 08                INC     R0
002B E6                MOV     A,@R0
002C F9                MOV     R1,A
002D 120000      R     LCALL   _uartWriteChar
                                           ; SOURCE LINE # 135
0030 E500        E     MOV     A,?C_IBP
0032 2403              ADD     A,#03H
0034 F8                MOV     R0,A
0035 08                INC     R0
0036 08                INC     R0
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 12  

0037 7401              MOV     A,#01H
0039 26                ADD     A,@R0
003A F6                MOV     @R0,A
003B 18                DEC     R0
003C E4                CLR     A
003D 36                ADDC    A,@R0
003E F6                MOV     @R0,A
                                           ; SOURCE LINE # 136
003F 80CF              SJMP    ?C0020
                                           ; SOURCE LINE # 137
0041         ?C0022:
0041 E500        E     MOV     A,?C_IBP
0043 2406              ADD     A,#06H
0045 F500        E     MOV     ?C_IBP,A
0047 22                RET     
             ; FUNCTION _?uartWriteString (END)

             ; FUNCTION _?uartWriteBuffe (BEGIN)
                                           ; SOURCE LINE # 139
0000 1500        E     DEC     ?C_IBP
0002 1500        E     DEC     ?C_IBP
0004 1500        E     DEC     ?C_IBP
0006 A800        E     MOV     R0,?C_IBP
0008 A603              MOV     @R0,AR3
000A 08                INC     R0
000B A602              MOV     @R0,AR2
000D 08                INC     R0
000E A601              MOV     @R0,AR1
0010 1500        E     DEC     ?C_IBP
                                           ; SOURCE LINE # 141
0012 A800        E     MOV     R0,?C_IBP
0014 E4                CLR     A
0015 F6                MOV     @R0,A
                                           ; SOURCE LINE # 142
0016 F6                MOV     @R0,A
0017         ?C0023:
0017 E500        E     MOV     A,?C_IBP
0019 2404              ADD     A,#04H
001B F8                MOV     R0,A
001C 8603              MOV     AR3,@R0
001E 08                INC     R0
001F E6                MOV     A,@R0
0020 FA                MOV     R2,A
0021 08                INC     R0
0022 E6                MOV     A,@R0
0023 F9                MOV     R1,A
0024 900041            MOV     DPTR,#041H
0027 120000      E     LCALL   ?C?CLDOPTR
002A FF                MOV     R7,A
002B A800        E     MOV     R0,?C_IBP
002D E6                MOV     A,@R0
002E FE                MOV     R6,A
002F C3                CLR     C
0030 9F                SUBB    A,R7
0031 503B              JNC     ?C0026
                                           ; SOURCE LINE # 143
                                           ; SOURCE LINE # 144
0033 08                INC     R0
0034 8603              MOV     AR3,@R0
0036 08                INC     R0
0037 E6                MOV     A,@R0
0038 FA                MOV     R2,A
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 13  

0039 08                INC     R0
003A E6                MOV     A,@R0
003B F9                MOV     R1,A
003C C003              PUSH    AR3
003E C002              PUSH    AR2
0040 C001              PUSH    AR1
0042 E500        E     MOV     A,?C_IBP
0044 2404              ADD     A,#04H
0046 F8                MOV     R0,A
0047 8603              MOV     AR3,@R0
0049 08                INC     R0
004A E6                MOV     A,@R0
004B FA                MOV     R2,A
004C 08                INC     R0
004D E6                MOV     A,@R0
004E 2411              ADD     A,#011H
0050 F9                MOV     R1,A
0051 E4                CLR     A
0052 3A                ADDC    A,R2
0053 FA                MOV     R2,A
0054 EE                MOV     A,R6
0055 7E00              MOV     R6,#00H
0057 29                ADD     A,R1
0058 F9                MOV     R1,A
0059 EE                MOV     A,R6
005A 3A                ADDC    A,R2
005B FA                MOV     R2,A
005C 120000      E     LCALL   ?C?CLDPTR
005F FD                MOV     R5,A
0060 D001              POP     AR1
0062 D002              POP     AR2
0064 D003              POP     AR3
0066 120000      R     LCALL   _uartWriteChar
                                           ; SOURCE LINE # 145
0069 A800        E     MOV     R0,?C_IBP
006B 06                INC     @R0
006C 80A9              SJMP    ?C0023
                                           ; SOURCE LINE # 146
006E         ?C0026:
006E E500        E     MOV     A,?C_IBP
0070 2407              ADD     A,#07H
0072 F500        E     MOV     ?C_IBP,A
0074 22                RET     
             ; FUNCTION _?uartWriteBuffe (END)

             ; FUNCTION UartRead1 (BEGIN)
0000 C0E0              PUSH    ACC
0002 C0F0              PUSH    B
0004 C083              PUSH    DPH
0006 C082              PUSH    DPL
0008 C0D0              PUSH    PSW
000A 75D000            MOV     PSW,#00H
000D C000              PUSH    AR0
000F C001              PUSH    AR1
0011 C002              PUSH    AR2
0013 C003              PUSH    AR3
0015 C004              PUSH    AR4
0017 C005              PUSH    AR5
0019 C006              PUSH    AR6
001B C007              PUSH    AR7
                                           ; SOURCE LINE # 148
                                           ; SOURCE LINE # 150
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 14  

001D C28C              CLR     TR0
                                           ; SOURCE LINE # 151
001F C2A9              CLR     ET0
                                           ; SOURCE LINE # 152
0021 309907            JNB     TI,?C0027
                                           ; SOURCE LINE # 153
                                           ; SOURCE LINE # 154
0024 C299              CLR     TI
                                           ; SOURCE LINE # 155
0026 900000      R     MOV     DPTR,#uart1+046H
0029 E4                CLR     A
002A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 156
002B         ?C0027:
                                           ; SOURCE LINE # 157
002B 30981D            JNB     RI,?C0028
                                           ; SOURCE LINE # 158
                                           ; SOURCE LINE # 159
002E C298              CLR     RI
                                           ; SOURCE LINE # 160
0030 7B01              MOV     R3,#01H
0032 7A00        R     MOV     R2,#HIGH uart1
0034 7900        R     MOV     R1,#LOW uart1
0036 C002              PUSH    AR2
0038 900000      R     MOV     DPTR,#uart1+054H
003B A3                INC     DPTR
003C E0                MOVX    A,@DPTR
003D FA                MOV     R2,A
003E A3                INC     DPTR
003F E0                MOVX    A,@DPTR
0040 F582              MOV     DPL,A
0042 8A83              MOV     DPH,R2
0044 D002              POP     AR2
0046 AD99              MOV     R5,SBUF
0048 120000      E     LCALL   ?C?ICALL2
                                           ; SOURCE LINE # 161
004B         ?C0028:
                                           ; SOURCE LINE # 162
004B D2A9              SETB    ET0
                                           ; SOURCE LINE # 163
004D D28C              SETB    TR0
                                           ; SOURCE LINE # 164
004F D007              POP     AR7
0051 D006              POP     AR6
0053 D005              POP     AR5
0055 D004              POP     AR4
0057 D003              POP     AR3
0059 D002              POP     AR2
005B D001              POP     AR1
005D D000              POP     AR0
005F D0D0              POP     PSW
0061 D082              POP     DPL
0063 D083              POP     DPH
0065 D0F0              POP     B
0067 D0E0              POP     ACC
0069 32                RETI    
             ; FUNCTION UartRead1 (END)

             ; FUNCTION UartRead4 (BEGIN)
0000 C0E0              PUSH    ACC
0002 C0F0              PUSH    B
0004 C083              PUSH    DPH
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 15  

0006 C082              PUSH    DPL
0008 C0D0              PUSH    PSW
000A 75D000            MOV     PSW,#00H
000D C000              PUSH    AR0
000F C001              PUSH    AR1
0011 C002              PUSH    AR2
0013 C003              PUSH    AR3
0015 C004              PUSH    AR4
0017 C005              PUSH    AR5
0019 C006              PUSH    AR6
001B C007              PUSH    AR7
                                           ; SOURCE LINE # 194
                                           ; SOURCE LINE # 196
001D E584              MOV     A,S4CON
001F 30E108            JNB     ACC.1,?C0030
                                           ; SOURCE LINE # 197
                                           ; SOURCE LINE # 198
0022 5384FD            ANL     S4CON,#0FDH
                                           ; SOURCE LINE # 199
0025 900000      R     MOV     DPTR,#uart4+046H
0028 E4                CLR     A
0029 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 200
002A         ?C0030:
                                           ; SOURCE LINE # 201
002A E584              MOV     A,S4CON
002C 30E01E            JNB     ACC.0,?C0032
                                           ; SOURCE LINE # 202
                                           ; SOURCE LINE # 203
002F 5384FE            ANL     S4CON,#0FEH
                                           ; SOURCE LINE # 204
0032 7B01              MOV     R3,#01H
0034 7A00        R     MOV     R2,#HIGH uart4
0036 7900        R     MOV     R1,#LOW uart4
0038 C002              PUSH    AR2
003A 900000      R     MOV     DPTR,#uart4+054H
003D A3                INC     DPTR
003E E0                MOVX    A,@DPTR
003F FA                MOV     R2,A
0040 A3                INC     DPTR
0041 E0                MOVX    A,@DPTR
0042 F582              MOV     DPL,A
0044 8A83              MOV     DPH,R2
0046 D002              POP     AR2
0048 AD85              MOV     R5,S4BUF
004A 120000      E     LCALL   ?C?ICALL2
                                           ; SOURCE LINE # 205
                                           ; SOURCE LINE # 206
004D         ?C0032:
004D D007              POP     AR7
004F D006              POP     AR6
0051 D005              POP     AR5
0053 D004              POP     AR4
0055 D003              POP     AR3
0057 D002              POP     AR2
0059 D001              POP     AR1
005B D000              POP     AR0
005D D0D0              POP     PSW
005F D082              POP     DPL
0061 D083              POP     DPH
0063 D0F0              POP     B
0065 D0E0              POP     ACC
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 16  

0067 32                RETI    
             ; FUNCTION UartRead4 (END)

C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 17  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


P0M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0093H  1
P1M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0092H  1
P2M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0096H  1
P1M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0091H  1
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
P3M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B2H  1
P2M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0095H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
P4M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B4H  1
P3M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B1H  1
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
P5M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CAH  1
P4M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B3H  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
WKTCH. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ABH  1
AC . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D6H  1
P6M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CCH  1
P5M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C9H  1
P4 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C0H  1
P7M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E2H  1
P6M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CBH  1
P5 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
P6 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E8H  1
P7M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E1H  1
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
P7 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F8H  1
WKTCL. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00AAH  1
SPCTL. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CEH  1
P_SW1. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A2H  1
P_SW2. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BAH  1
DPH1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E5H  1
EADC . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ADH  1
IE . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
IAP_CMD. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C5H  1
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
DPL1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E4H  1
ADC_RES. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BDH  1
IP2H . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B6H  1
IP3H . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EEH  1
TA . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00AEH  1
uchar. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
INTCLKO. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008FH  1
ES . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ACH  1
PADC . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BDH  1
IP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
ADCCFG . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DEH  1
RI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0098H  1
CY . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D7H  1
TI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0099H  1
Uart . . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  90
  _uartId. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  _uartWrite . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0001H  16
  _uartRead. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0011H  48
  _uartSign. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0041H  1
  _uartStart . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0042H  1
  _readFlag. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0043H  1
  _uartTime. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0044H  2
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 18  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  busy . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0046H  1
  _baudRate. . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0047H  4
  UartWriteChar. . . . . . . . . . . .  MEMBER   -----  PTR      004BH  3
  UartWriteString. . . . . . . . . . .  MEMBER   -----  PTR      004EH  3
  UartWriteBuffe . . . . . . . . . . .  MEMBER   -----  PTR      0051H  3
  UartRead . . . . . . . . . . . . . .  MEMBER   -----  PTR      0054H  3
  UartReadTime . . . . . . . . . . . .  MEMBER   -----  PTR      0057H  3
IAP_ADDRH. . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C3H  1
PS . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BCH  1
SP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0081H  1
IAP_ADDRL. . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C4H  1
OV . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D2H  1
PPCA . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BFH  1
LIRTRIM. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009EH  1
CMPCR1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E6H  1
ulong. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
CMPCR2 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E7H  1
ushort . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
ELVD . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AEH  1
u8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
P00. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0080H  1
ADC_CONTR. . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BCH  1
SBUF . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0099H  1
P10. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0090H  1
PCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0087H  1
P01. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0081H  1
P20. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A0H  1
P11. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0091H  1
P02. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0082H  1
IAP_TPS. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F5H  1
P30. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B0H  1
P21. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A1H  1
P12. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0092H  1
P03. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0083H  1
P40. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C0H  1
P31. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B1H  1
P22. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A2H  1
SCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0098H  1
P13. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0093H  1
P04. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0084H  1
_UartInit. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  uart . . . . . . . . . . . . . . . .  AUTO     DATA   PTR      0000H  3
  BRT. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
P50. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C8H  1
P41. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C1H  1
P32. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B2H  1
P23. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A3H  1
P14. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0094H  1
TMOD . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0089H  1
TCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0088H  1
P05. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0085H  1
P51. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C9H  1
P42. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C2H  1
P33. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B3H  1
P24. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A4H  1
P15. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0095H  1
P06. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0086H  1
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 19  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


P52. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CAH  1
P43. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C3H  1
PLVD . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BEH  1
P34. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B4H  1
P25. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A5H  1
P16. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0096H  1
P07. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0087H  1
P53. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CBH  1
P44. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C4H  1
P35. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B5H  1
P26. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A6H  1
P17. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0097H  1
_?uartWriteBuffe . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  uartID . . . . . . . . . . . . . . .  AUTO     IDATA  PTR      0001H  3
  uart . . . . . . . . . . . . . . . .  AUTO     IDATA  PTR      0004H  3
  i. . . . . . . . . . . . . . . . . .  AUTO     IDATA  U_CHAR   0000H  1
P54. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CCH  1
P45. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C5H  1
P36. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B6H  1
P27. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A7H  1
P55. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CDH  1
P46. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C6H  1
P37. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B7H  1
P56. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CEH  1
P47. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C7H  1
P57. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00CFH  1
_uartRead. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  uart . . . . . . . . . . . . . . . .  * REG *  DATA   PTR      0001H  3
  buff . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
IE0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0089H  1
_UartStructInit. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  uart . . . . . . . . . . . . . . . .  AUTO     DATA   PTR      0000H  3
  uartId . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0005H  1
  boad . . . . . . . . . . . . . . . .  AUTO     DATA   U_LONG   0004H  4
IE1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008BH  1
IE2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00AFH  1
B. . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F0H  1
AUXR . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008EH  1
uint . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
USBADR . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FCH  1
IAP_CONTR. . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C7H  1
USBDAT . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ECH  1
USBCLK . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DCH  1
ACC. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E0H  1
_?uartWriteString. . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  uart . . . . . . . . . . . . . . . .  AUTO     IDATA  PTR      0000H  3
  string . . . . . . . . . . . . . . .  AUTO     IDATA  PTR      0003H  3
ET0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A9H  1
ET1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ABH  1
TF0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008DH  1
RSTCFG . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FFH  1
IP2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B5H  1
TF1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008FH  1
UartSet. . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  90
  _uartId. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  _uartWrite . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0001H  16
  _uartRead. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0011H  48
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 20  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  _uartSign. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0041H  1
  _uartStart . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0042H  1
  _readFlag. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0043H  1
  _uartTime. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0044H  2
  busy . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0046H  1
  _baudRate. . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0047H  4
  UartWriteChar. . . . . . . . . . . .  MEMBER   -----  PTR      004BH  3
  UartWriteString. . . . . . . . . . .  MEMBER   -----  PTR      004EH  3
  UartWriteBuffe . . . . . . . . . . .  MEMBER   -----  PTR      0051H  3
  UartRead . . . . . . . . . . . . . .  MEMBER   -----  PTR      0054H  3
  UartReadTime . . . . . . . . . . . .  MEMBER   -----  PTR      0057H  3
USBCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F4H  1
IP3. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DFH  1
RB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009AH  1
TH0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008CH  1
EX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A8H  1
TH1. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008DH  1
IT0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0088H  1
UartRead1. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_uartWriteChar . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  uart . . . . . . . . . . . . . . . .  * REG *  DATA   PTR      0001H  3
  str. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
T2H. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D6H  1
EX1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AAH  1
TB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009BH  1
IT1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008AH  1
_uartReadTime. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  uart . . . . . . . . . . . . . . . .  * REG *  DATA   PTR      0001H  3
T3H. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D4H  1
P. . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D0H  1
T4H. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D2H  1
SM0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009FH  1
TL0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008AH  1
UartRead4. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
SM1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009EH  1
TL1. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008BH  1
T2L. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D7H  1
SM2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009DH  1
T3L. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D5H  1
T4L. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D3H  1
PT0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B9H  1
RS0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D3H  1
PT1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BBH  1
RS1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D4H  1
IAP_DATA . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C2H  1
TR0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008CH  1
TR1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008EH  1
WDT_CONTR. . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C1H  1
PX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B8H  1
PX1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BAH  1
IRTRIM . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009FH  1
DPH. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0083H  1
u16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
T4T3M. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D1H  1
ADC_RESL . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BEH  1
DPL. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0082H  1
SPSTAT . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CDH  1
C51 COMPILER V9.57.0.0   UART                                                              02/19/2022 23:37:22 PAGE 21  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


IPH. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B7H  1
S2BUF. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009BH  1
S3BUF. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ADH  1
REN. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009CH  1
S4BUF. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0085H  1
S2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009AH  1
DPS. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E3H  1
S3CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ACH  1
S4CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0084H  1
AUXINTIF . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00EFH  1
wchar_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
SADEN. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B9H  1
uart1. . . . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   0000H  90
SADDR. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A9H  1
uart4. . . . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   005AH  90
IAP_TRIG . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C6H  1
F0 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D5H  1
IRCBAND. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009DH  1
F1 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D1H  1
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1
SPDAT. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CFH  1
P0M0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0094H  1


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    930    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =    180       2
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      11
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
